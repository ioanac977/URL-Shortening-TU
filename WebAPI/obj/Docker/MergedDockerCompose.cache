services:
  mongodb-shortUrl-service:
    image: mongo:nanoserver
    ports:
    - published: 27017
      target: 27017
    restart: always
    volumes:
    - mongodb_config:/data/configdb:rw
    - mongodb_data:/data/db:rw
  webapi:
    build:
      context: D:\Projects\Url-Shorten-App\URL-Shortening-TU\WebAPI
      dockerfile: WebAPI/Dockerfile
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      ASPNETCORE_URLS: https://+:443;http://+:80
      DB_HOST: mongodb-shortUrl-service
      DB_NAME: UrlCollectionDb
    image: webapi
    ports:
    - target: 80
    - target: 443
    volumes:
    - C:\Users\Ioana Cristea\AppData\Roaming\ASP.NET\Https:C:\Users\ContainerUser\AppData\Roaming\ASP.NET\Https:ro
    - C:\Users\Ioana Cristea\AppData\Roaming\Microsoft\UserSecrets:C:\Users\ContainerUser\AppData\Roaming\Microsoft\UserSecrets:ro
version: '3.4'
volumes:
  mongodb_config: {}
  mongodb_data: {}